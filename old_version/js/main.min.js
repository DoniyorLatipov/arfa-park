document.addEventListener("DOMContentLoaded",function(e){let t=0;function s(){document.body.classList.remove("freeze"),document.body.style.top="",window.scrollTo(0,t)}let l=document.querySelectorAll(".watch-video-btn");videoWrapper=document.querySelector(".video-wrapper"),closeBtn=document.querySelector(".video-wrapper .close-btn"),body=document.querySelector("body");let o=document.getElementById("videoElement");l.forEach(e=>{e.addEventListener("click",()=>{videoWrapper.classList.add("active"),t=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("freeze"),document.body.style.top=`-${t}px`})}),closeBtn.addEventListener("click",()=>{videoWrapper.classList.remove("active"),s(),o.pause()}),document.addEventListener("keydown",function(e){27==e.keyCode&&(videoWrapper.classList.remove("active"),s(),o.pause())})}),document.addEventListener("DOMContentLoaded",function(e){new Swiper(".modal-news-slider",{slidesPerView:1,spaceBetween:12,loop:!0,navigation:{nextEl:".modal-news-slider-button-next",prevEl:".modal-news-slider-button-prev"}});let t=document.querySelectorAll(".modal .close-btn");modal=document.querySelectorAll(".modal"),modalNews=document.querySelector(".modal.modal--news"),body=document.querySelector("body"),modalOverlay=document.querySelector(".modal-overlay"),newsBtn=document.querySelectorAll(".news .news-list li .txt-wrapper .news-btn"),requestBtn=document.querySelectorAll(".request-btn"),modalRequest=document.querySelector(".modal.modal--request"),links=document.querySelectorAll("a");let s=0;function l(){s=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("freeze"),document.body.style.top=`-${s}px`}function o(){document.body.classList.remove("freeze"),document.body.style.top="",window.scrollTo(0,s)}requestBtn.forEach(e=>{e.addEventListener("click",()=>{modalRequest.classList.add("active"),modalOverlay.classList.add("active"),l()})}),newsBtn.forEach(e=>{e.addEventListener("click",()=>{modalNews.classList.add("active"),modalOverlay.classList.add("active"),l()})}),modalOverlay.addEventListener("click",()=>{modalOverlay.classList.remove("active"),o(),modal.forEach(e=>{e.classList.remove("active","success")})}),t.forEach(e=>{e.addEventListener("click",()=>{modalOverlay.classList.remove("active"),o(),modal.forEach(e=>{e.classList.remove("active","success")})})}),document.addEventListener("keydown",function(e){27==e.keyCode&&(modalOverlay.classList.remove("active"),o(),modal.forEach(e=>{e.classList.remove("active")}))})}),document.addEventListener("DOMContentLoaded",function(e){var t=new Swiper(".tabs-slider",{slidesPerView:3,direction:"horizontal",allowTouchMove:!1,allowTouchMove:!1,breakpoints:{993:{slidesPerView:"auto",direction:"vertical"}}});new Swiper(".content-slider",{spaceBetween:10,direction:"vertical",allowTouchMove:!1,thumbs:{swiper:t},breakpoints:{769:{effect:"slide"}}});let s=document.querySelector(".resolution-btns .btn-3d");resolutionBtn2d=document.querySelector(".resolution-btns .btn-2d"),layoutsOverlays=document.querySelectorAll(".layouts .content-banner .content-slider .swiper-slide"),s.addEventListener("click",()=>{s.classList.add("active"),resolutionBtn2d.classList.remove("active"),layoutsOverlays.forEach(e=>{e.classList.add("to-left"),e.classList.remove("to-right")})}),resolutionBtn2d.addEventListener("click",()=>{s.classList.remove("active"),resolutionBtn2d.classList.add("active"),layoutsOverlays.forEach(e=>{e.classList.remove("to-left"),e.classList.add("to-right")})})}),document.addEventListener("DOMContentLoaded",function(e){var t=new Swiper(".photo-slider-thumbs",{allowTouchMove:!1,spaceBetween:4,slidesPerView:"auto"}),s=new Swiper(".photo-slider",{allowTouchMove:!1,thumbs:{swiper:t},navigation:{nextEl:".photo-slider-button-next",prevEl:".photo-slider-button-prev"},breakpoints:{0:{allowTouchMove:!0},1200:{allowTouchMove:!1}},on:{slideChange:function(){let e=s.activeIndex;l.style.transform=`translateX(${40*e}px)`}}});let l=document.querySelector(".photo-slider-wrapper .bottom-wrapper .active-marker"),o=document.querySelector(".photo-slider-wrapper .photo-slider-button-prev");rightBtn=document.querySelector(".photo-slider-wrapper .photo-slider-button-next"),sliderPag=document.querySelectorAll(".photo-slider-wrapper .bottom-wrapper .photo-slider-thumbs .swiper-slide"),slider=document.querySelector(".photo-slider-wrapper .photo-slider"),rightBtn.addEventListener("click",()=>{slider.classList.add("left"),setTimeout(()=>{slider.classList.remove("left")},600)}),sliderPag.forEach(e=>{e.addEventListener("click",()=>{slider.classList.add("left"),setTimeout(()=>{slider.classList.remove("left")},600)})}),o.addEventListener("click",()=>{slider.classList.add("right"),setTimeout(()=>{slider.classList.remove("right")},600)})}),document.addEventListener("DOMContentLoaded",function(e){let t=document.querySelectorAll(".layouts .photo-banner .photo-btn");photoSliderWrapper=document.querySelector(".photo-slider-wrapper"),closeBtn=document.querySelector(".photo-slider-wrapper .bottom-wrapper .close-btn"),body=document.querySelector("body");let s=0;function l(){document.body.classList.remove("freeze"),document.body.style.top="",window.scrollTo(0,s)}t.forEach(e=>{e.addEventListener("click",()=>{photoSliderWrapper.classList.add("active"),s=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("freeze"),document.body.style.top=`-${s}px`})}),closeBtn.addEventListener("click",()=>{photoSliderWrapper.classList.remove("active"),l()}),document.addEventListener("keydown",function(e){27==e.keyCode&&(photoSliderWrapper.classList.remove("active"),l())})}),document.addEventListener("DOMContentLoaded",function(e){let t=document.querySelectorAll(".villas .villas-top .tabs-wrapper .tab"),s=document.querySelectorAll(".villas .villas-bottom .content"),l=document.querySelectorAll(".villas .villas-map .placemark-pic");t.forEach((e,o)=>{e.addEventListener("click",function(){t.forEach(e=>e.classList.remove("active")),this.classList.add("active"),s.forEach(e=>e.classList.add("hidden")),s[o].classList.remove("hidden"),l.forEach(e=>e.classList.add("hidden")),l[o].classList.remove("hidden")})})}),document.addEventListener("DOMContentLoaded",function(e){new Swiper(".objects-slider",{loop:!0,slidesPerView:1,spaceBetween:0,pagination:{el:".objects-slider-pagination",clickable:!0},navigation:{nextEl:".objects-slider-button-next",prevEl:".objects-slider-button-prev"},breakpoints:{601:{slidesPerView:2,spaceBetween:2,loop:!1},769:{slidesPerView:"auto",spaceBetween:12,loop:!1}}})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".fade-in-down"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("show"),t.unobserve(e.target))})},{threshold:.8});e.forEach(e=>{t.observe(e)});let s=document.querySelectorAll(".picture--hide");s.forEach(e=>{let t=e.getBoundingClientRect(),s=t.top,l=window.innerHeight,o=.35*window.innerHeight;s<=l&&s>=o?e.style.setProperty("--scroll-percent",(s-l)/(o-l)*100):s<o?e.style.setProperty("--scroll-percent","100"):s>l&&e.style.setProperty("--scroll-percent","0")}),window.addEventListener("scroll",()=>{s.forEach(e=>{let t=e.getBoundingClientRect(),s=t.top,l=window.innerHeight,o=.35*window.innerHeight;if(e.classList.contains("flow4-img")){e.style.setProperty("--scroll-percent","100");let r=.6*window.innerHeight;s<=l&&s>=r?e.style.setProperty("--scroll-percent",(s-l)/(r-l)*100):s<r?e.style.setProperty("--scroll-percent","100"):s>l&&e.style.setProperty("--scroll-percent","0");return}s<=l&&s>=o?e.style.setProperty("--scroll-percent",(s-l)/(o-l)*100):s<o?e.style.setProperty("--scroll-percent","100"):s>l&&e.style.setProperty("--scroll-percent","0")})});let l=new Lenis({duration:1.8,smooth:!0,smoothTouch:!0});function o(e){l.raf(e),requestAnimationFrame(o)}requestAnimationFrame(o);let r=document.querySelectorAll("a.scroll-link");r.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let s=document.querySelector(".to-top-button");s.classList.add("hide-special");let o=e.getAttribute("href"),r=document.querySelector(o);l.scrollTo(r),setTimeout(()=>{s.classList.remove("hide-special")},3e3)})});let n=document.querySelectorAll(".layouts .content-banner .content-slider .size"),i=document.querySelectorAll(".layouts .content-banner .content-slider .size-box"),c=document.querySelector(".layouts .content-banner .content-slider");c.addEventListener("click",e=>{let t=e.target;console.log(t);let s=e.target.classList.contains("size")||e.target.classList.contains("size-box")||e.target.parentElement.classList.contains("size")||e.target.parentElement.classList.contains("size-box");window.innerWidth<600&&s&&(n.forEach(e=>{e!==t&&e.classList.remove("active")}),i.forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active"))});let a=document.getElementById("phone"),d=document.getElementById("clientForm");Inputmask({mask:"+9 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0}).mask(a),a.addEventListener("input",function(){let e=a.inputmask.unmaskedvalue();11===e.length?a.setCustomValidity(""):a.setCustomValidity("Пожалуйста, введите корректный номер телефона.")}),d.addEventListener("submit",function(e){e.preventDefault();let t=a.inputmask.unmaskedvalue();if(console.log(t,t.length),11!==t.length){a.reportValidity();return}let s=new FormData(d),l=Object.fromEntries(s.entries());(function e({name:t,phone:s}){let l=document.querySelector(".modal.modal--request"),o=l.querySelector(".right-wrapper"),r=o.querySelector("#nameData"),n=o.querySelector("#phoneData");r.textContent=t||"Здравствуйте",n.textContent=s||"вашему номеру телефона",l.classList.add("success")})(l),setTimeout(()=>{d.reset()},500)});let u=document.querySelector(".to-top-button");u.addEventListener("click",()=>{u.classList.add("hide"),l.scrollTo(0)}),window.scrollY>100?u.classList.remove("hide"):u.classList.add("hide"),window.addEventListener("scroll",()=>{window.scrollY>100?u.classList.remove("hide"):u.classList.add("hide")});let p=document.querySelector(".cookie-banner"),v=p.querySelector("#cookieCloseButton");-1===document.cookie.indexOf("cookieAccepted=true")&&p.classList.add("active"),v.addEventListener("click",()=>{p.classList.remove("active"),document.cookie="cookieAccepted=true; max-age=31536000; path=/"});let y=document.getElementById("fullVideoButton"),L=document.getElementById("videoElement");y.addEventListener("click",()=>{L.requestFullscreen?L.requestFullscreen():L.webkitRequestFullscreen?L.webkitRequestFullscreen():L.msRequestFullscreen?L.msRequestFullscreen():L.mozRequestFullScreen?L.mozRequestFullScreen():L.webkitEnterFullscreen&&L.webkitEnterFullscreen()})});